{% if block.settings.enable_filtering or block.settings.enable_sorting  %}
  <div class="filter-bar drawer-content" data-filter-sort data-filter-sort-main>
    <div class="container-fluid">
      <div class="filter-bar-box">
        <div class="filter-bar-left">
          {% if block.settings.enable_filtering and results.filters.size >0 %}
            <div class="filter-menu">
              <button class="filter-heading cursor-pointer d-none d-md-block filters-opened"
                data-id="filter-side-drawer" data-filter-desktop>
                <svg width="18" height="15" viewBox="0 0 18 15" fill="none">
                  <path d="M9.31507 3.63101H9.31474H1.35978H1.25978V3.64235C1.05391 3.68744 0.9 3.87092 0.9 4.09079C0.9 4.34495 1.10613 4.54984 1.35977 4.54985C1.35977 4.54985 1.35978 4.54985 1.35978 4.54985L9.31547 4.55057L9.42565 4.55058L9.41501 4.44092C9.40377 4.32494 9.39814 4.20823 9.39814 4.09079C9.39814 3.9726 9.40377 3.85591 9.41501 3.74072L9.42568 3.63137L9.31581 3.63101L9.31507 3.63101ZM10.638 4.09072C10.638 2.85549 11.6241 1.85039 12.8519 1.81969H12.9098C14.1643 1.81969 15.1808 2.8362 15.1808 4.09072C15.1808 5.34456 14.1635 6.36174 12.9098 6.36174C11.6552 6.36174 10.638 5.34449 10.638 4.09072ZM8.93486 10.3613H8.82463L8.83534 10.471C8.84661 10.5866 8.85292 10.7033 8.85292 10.8211C8.85292 10.9388 8.84662 11.0548 8.83533 11.1712L8.8247 11.2809H8.93486H16.8913C17.1455 11.2809 17.3504 11.0747 17.3504 10.8211C17.3504 10.6015 17.1968 10.4182 16.9913 10.3728V10.3613H16.8913L8.93486 10.3613ZM5.34131 8.55H5.39985C6.62666 8.58106 7.61236 9.58605 7.61236 10.821C7.61236 12.0749 6.59513 13.0921 5.34133 13.0921C4.08678 13.0921 3.0703 12.0748 3.0703 10.821C3.0703 9.56644 4.08684 8.55 5.34059 8.55H5.34131ZM12.9098 0.900129H12.909C11.1474 0.900129 9.71911 2.32842 9.71911 4.09079C9.71911 5.85247 11.1474 7.28071 12.9098 7.28071C14.5157 7.28071 15.8442 6.09412 16.0673 4.54977H16.8913C17.1454 4.54977 17.3503 4.34363 17.3503 4.08999C17.3503 3.83596 17.1443 3.63094 16.8913 3.63094H16.0673C15.8442 2.08666 14.5157 0.900129 12.9098 0.900129ZM5.34133 7.63043C3.73548 7.63043 2.40621 8.81696 2.18372 10.3614H1.35984C1.10607 10.3614 0.900058 10.5671 0.900058 10.8204C0.900058 11.0743 1.10593 11.2802 1.35984 11.2802H2.18372C2.4062 12.8245 3.73541 14.0111 5.34133 14.0111C7.10297 14.0111 8.53199 12.5829 8.53199 10.8212C8.53199 9.05883 7.10372 7.63043 5.34133 7.63043Z" fill="currentColor" stroke="currentColor" stroke-width="0.2"/>
                  </svg>
                <h6 class="filter-heading-text heading-font text">Hide filters</h6>
              </button>

              <a
                href="#filter-side-drawer"
                class="filter-heading cursor-pointer d-block d-md-none"
                data-id="filter-side-drawer" data-sidedrawer-button
                
              >
                <svg width="18" height="15" viewBox="0 0 18 15" fill="none">
                  <path d="M9.31507 3.63101H9.31474H1.35978H1.25978V3.64235C1.05391 3.68744 0.9 3.87092 0.9 4.09079C0.9 4.34495 1.10613 4.54984 1.35977 4.54985C1.35977 4.54985 1.35978 4.54985 1.35978 4.54985L9.31547 4.55057L9.42565 4.55058L9.41501 4.44092C9.40377 4.32494 9.39814 4.20823 9.39814 4.09079C9.39814 3.9726 9.40377 3.85591 9.41501 3.74072L9.42568 3.63137L9.31581 3.63101L9.31507 3.63101ZM10.638 4.09072C10.638 2.85549 11.6241 1.85039 12.8519 1.81969H12.9098C14.1643 1.81969 15.1808 2.8362 15.1808 4.09072C15.1808 5.34456 14.1635 6.36174 12.9098 6.36174C11.6552 6.36174 10.638 5.34449 10.638 4.09072ZM8.93486 10.3613H8.82463L8.83534 10.471C8.84661 10.5866 8.85292 10.7033 8.85292 10.8211C8.85292 10.9388 8.84662 11.0548 8.83533 11.1712L8.8247 11.2809H8.93486H16.8913C17.1455 11.2809 17.3504 11.0747 17.3504 10.8211C17.3504 10.6015 17.1968 10.4182 16.9913 10.3728V10.3613H16.8913L8.93486 10.3613ZM5.34131 8.55H5.39985C6.62666 8.58106 7.61236 9.58605 7.61236 10.821C7.61236 12.0749 6.59513 13.0921 5.34133 13.0921C4.08678 13.0921 3.0703 12.0748 3.0703 10.821C3.0703 9.56644 4.08684 8.55 5.34059 8.55H5.34131ZM12.9098 0.900129H12.909C11.1474 0.900129 9.71911 2.32842 9.71911 4.09079C9.71911 5.85247 11.1474 7.28071 12.9098 7.28071C14.5157 7.28071 15.8442 6.09412 16.0673 4.54977H16.8913C17.1454 4.54977 17.3503 4.34363 17.3503 4.08999C17.3503 3.83596 17.1443 3.63094 16.8913 3.63094H16.0673C15.8442 2.08666 14.5157 0.900129 12.9098 0.900129ZM5.34133 7.63043C3.73548 7.63043 2.40621 8.81696 2.18372 10.3614H1.35984C1.10607 10.3614 0.900058 10.5671 0.900058 10.8204C0.900058 11.0743 1.10593 11.2802 1.35984 11.2802H2.18372C2.4062 12.8245 3.73541 14.0111 5.34133 14.0111C7.10297 14.0111 8.53199 12.5829 8.53199 10.8212C8.53199 9.05883 7.10372 7.63043 5.34133 7.63043Z" fill="currentColor" stroke="currentColor" stroke-width="0.2"/>
                  </svg>
                <h6 class="filter-heading-text heading-font text">{{ 'sections.collection_template.filter_by_label' | t }}</h6>
              </a>
              
            </div>
          {% endif %}
        </div>
        {% if block.settings.enable_sorting == true %}
          {% assign sort_by = results.sort_by | default: results.default_sort_by %}
          {% assign sort_by_name = '' %}
          {% capture sortoption %}
                {%- for option in results.sort_options -%}
                {% if option.value == sort_by %}
                {% assign sort_by_name = option.name | escape %}
                {% endif %}
                <li class="custom-select-item{% if option.value == sort_by %} selected{% endif %}" role="option" tabindex="0">
                  <input type="radio" class="custom-select-item-active" name="sort_by" id="sortByOption-{{ forloop.index }}" value="{{ option.value | escape }}" form="filterForm"
                    data-name="{{ option.name | escape }}"
                    {% if option.value == sort_by %}
                        checked 
                    {% endif %}>
                    <label for="sortByOption-{{ forloop.index }}" value="{{ option.value | escape }}" class="custom-select-label" id="sortByOption-{{ forloop.index }}"> {{ option.name | escape }}</label>
                </li>
                {% endfor %}
          {% endcapture %}
          <div class="filter-bar-right" data-filter-sort >
            <div class="filter-heading">
              <h6 class="filter-heading-text heading-font text">{{ 'sections.collection_template.sort_by_label' | t }}</h6>
              <div
                class="custom-select"
                data-custom-select
                data-collection-sort
                id="tools-products-sort"
                data-id="{{ block.id }}"
                role="listbox"
                tabindex="0"
              >
                <div class="custom-select-button"> 
                  <span class="custom-select-text body-font text sort-by-name-value"> {{ sort_by_name }}</span>
                  <span class="custom-select-arrow">
                    <svg width="8" height="5" viewBox="0 0 8 5" fill="none">
                      <path d="M7 1L4 4L1 1" stroke="currentColor" stroke-width="1.1" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </span>
                </div>
                <div class="custom-select-content right-position" data-custom-select-summary>
                  <ul class="custom-select-list">
                    {{ sortoption }}
                  </ul>
                </div>
              </div>
            </div>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
{% endif %}
